(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),o=n.n(c),r=n(11),s=n.n(r),i=(n(110),n(12)),l=n(45),d=n(21),u=(n.p,n(4)),j=(n(111),n(244)),b=n(15),h=n(259),p=n(67),f=n.n(p),O=n(93),x=n.n(O),m=n(94),g=n.n(m),v=n(91),y=n.n(v),S=n(258),C=n(256),N=n(262),w=n(257),k=n(69),T=n(261),E=n(53),I=n(92),A=n.n(I),F=n(246),P=n(195),G=n(249),D=n(248),R=n(266),Y=n(35),B=n.n(Y),W=n(58),J=n.n(W),L=n(59),q=n.n(L),H=n(28),M=n.n(H),U=n(52);function z(){return console.log("getServer",window.location.href),window.location.href.indexOf("3000")>-1?"http://localhost:10050/":(console.log("getServer returning",window.location.href),window.location.href)}var K=function(){var e=Object(U.a)(M.a.mark((function e(t){var n,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(z()).concat("getnodes"),console.log("getNodes url",n),e.next=4,fetch(n,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){e.status;return e.json()})).then((function(e){return e})).catch((function(e){console.log("getNodes error",e)}));case 4:a=e.sent,console.log("getNodes",a),t(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(U.a)(M.a.mark((function e(t,n){var a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sendChallenge",t),a="".concat(z()).concat("issue","?counterParty=").concat(t.counterParty,"&escrowParty=").concat(t.escrow,"&choice=").concat(t.choice),e.next=4,fetch(a,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){e.status;return e.json()})).then((function(e){return e})).catch((function(e){console.log("sendChallenge error",e)}));case 4:c=e.sent,console.log("sendChallenge",c),n(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(U.a)(M.a.mark((function e(t){var n,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(z()).concat("gettransactions"),console.log("getTransactions url",n),e.next=4,fetch(n,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){e.status;return e.json()})).then((function(e){return e})).catch((function(e){console.log("getTransactions error",e)}));case 4:a=e.sent,console.log("getTransactions",a),t(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(U.a)(M.a.mark((function e(t,n){var a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(z()).concat("getstatesbylinearid","?linearId=").concat(t.id),console.log("getTransactionDetails url",a),e.next=4,fetch(a,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){e.status;return e.json()})).then((function(e){return e})).catch((function(e){console.log("getTransactionDetails error",e)}));case 4:c=e.sent,console.log("getTransactionDetails",c),n(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=Object(j.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));var $=function(e){var t=e.onTransactionSelected,n=(Object(d.a)(e,["onTransactionSelected"]),Z()),c=o.a.useState([]),r=Object(i.a)(c,2),s=r[0],l=r[1];return o.a.useEffect((function(){V((function(e){console.log("transactions",e),l(e)}))}),[]),Object(a.jsx)(F.a,{className:n.root,children:s&&s.map((function(e,n){return Object(a.jsxs)(P.a,{onClick:function(){return t(e)},style:{cursor:"pointer"},children:[Object(a.jsx)(D.a,{children:Object(a.jsxs)(R.a,{children:["com.axa.RockPaperScissorsIssuedState"==e.class&&Object(a.jsx)(J.a,{}),"com.axa.RockPaperScissorsChallengeState"==e.status&&Object(a.jsx)(B.a,{}),"com.axa.RockPaperScissorsSettledState"==e.status&&Object(a.jsx)(q.a,{})]})}),Object(a.jsx)(G.a,{primary:e.id,secondary:e.class})]})}))})},_=n(65),ee=n.n(_),te=Object(j.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));var ne=function(e){var t=e.onNodeSelected,n=(Object(d.a)(e,["onNodeSelected"]),te()),c=o.a.useState(""),r=Object(i.a)(c,2),s=r[0],l=r[1];return o.a.useEffect((function(){K((function(e){console.log("NodeExplorer",e);for(var t=0;t<e.length;t++)e[t].name=e[t].identities[0].name.organisation,e[t].address=e[t].addresses[0];l(e)}))}),[]),Object(a.jsx)(F.a,{className:n.root,children:s&&s.map((function(e,n){return Object(a.jsxs)(P.a,{onClick:function(){return t(e)},style:{cursor:"pointer"},children:[Object(a.jsx)(D.a,{children:Object(a.jsxs)(R.a,{children:["Notary"!=e.name&&Object(a.jsx)(ee.a,{}),"Notary"==e.name&&Object(a.jsx)(B.a,{})]})}),Object(a.jsx)(G.a,{primary:e.name,secondary:e.address})]})}))})},ae=(n(85),n(39)),ce=n.n(ae);var oe=function(e){var t=e.node;return Object(d.a)(e,["node"]),Object(a.jsx)("div",{style:{textAlign:"left"},children:Object(a.jsx)(ce.a,{src:t})})},re=n(267),se=n(251),ie=n(252),le=n(250),de=n(260),ue=Object(j.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:"90%"},selectEmpty:{marginTop:e.spacing(2)}}}));function je(e){var t=e.onChange,n=(Object(d.a)(e,["onChange"]),ue()),c=o.a.useState(""),r=Object(i.a)(c,2),s=r[0],l=r[1],u=o.a.useState(""),j=Object(i.a)(u,2),b=j[0],h=j[1],p=o.a.useState(""),f=Object(i.a)(p,2),O=f[0],x=f[1],m=o.a.useState(""),g=Object(i.a)(m,2),v=g[0],y=g[1],S=o.a.useState(""),C=Object(i.a)(S,2),N=C[0],w=C[1];return o.a.useEffect((function(){K((function(e){console.log("Gameboard",e);for(var t=0;t<e.length;t++)e[t].name=e[t].identities[0].name.organisation;y(e)}))}),[]),o.a.useEffect((function(){var e=!1;if(O&&b&&s)if(b===s)w("Escrow and counterparty cannot be the same party");else{var n=v.find((function(e){return e.isCurrentNode}));n.name===b?w("Counterparty and current node cannot be the same node"):n.name===s?w("Escrow and current node cannot be the same node"):"Notary"===b||"Notary"===s?w("Notary cannot be a signing party"):(w(!1),e=!0)}t&&t({ready:e,escrow:s,counterParty:b,choice:O})}),[b,s,O]),Object(a.jsxs)("div",{children:[Object(a.jsxs)(le.a,{className:n.formControl,children:[Object(a.jsx)(re.a,{id:"demo-simple-select-label",children:"Choice"}),Object(a.jsxs)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,onChange:function(e){x(e.target.value)},children:[Object(a.jsx)(se.a,{value:"rock",children:"Rock"}),Object(a.jsx)(se.a,{value:"paper",children:"Paper"}),Object(a.jsx)(se.a,{value:"scissors",children:"Scissors"})]})]}),Object(a.jsxs)(le.a,{className:n.formControl,error:N,children:[Object(a.jsx)(re.a,{id:"demo-simple-select-label",children:"Escrow"}),Object(a.jsx)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s,onChange:function(e){l(e.target.value)},children:v&&v.map((function(e){return Object(a.jsx)(se.a,{value:e.name,children:e.name})}))})]}),Object(a.jsxs)(le.a,{className:n.formControl,error:N,children:[Object(a.jsx)(re.a,{id:"demo-simple-select-label",children:"Counter Party"}),Object(a.jsx)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,onChange:function(e){h(e.target.value)},children:v&&v.map((function(e){return Object(a.jsx)(se.a,{value:e.name,children:e.name})}))})]}),Object(a.jsx)(ie.a,{style:{display:N?"":"none"},children:N})]})}var be=n(268),he=n(253),pe=n(264),fe=n(269),Oe=n(254),xe=n(196),me=Object(j.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)}}}));function ge(e,t){var n=Object(a.jsx)(a.Fragment,{});switch(e){case 0:return n=Object(a.jsx)(a.Fragment,{children:"There is no Issued State"}),t&&(n=t.IssuedState&&t.IssuedState.challenged.name==t.currentNode.name?Object(a.jsx)(a.Fragment,{children:"You are the counter party and not a signatory to this state. Your vault only contains states of which you are a signatory"}):Object(a.jsx)(ce.a,{src:t.IssuedState,collapsed:!0})),Object(a.jsx)("div",{children:n});case 1:return n=Object(a.jsx)(a.Fragment,{children:"There is no Challenge State"}),t&&(t.IssuedState&&t.IssuedState.challenger.name==t.currentNode.name?n=Object(a.jsx)(a.Fragment,{children:"You are the challenger and not a signatory to this state. Your vault only contains states of which you are a signatory"}):t.ChallengeState&&(n=Object(a.jsx)(ce.a,{src:t.ChallengeState,collapsed:!0}))),Object(a.jsx)("div",{children:n});case 2:return n=Object(a.jsx)(a.Fragment,{children:"There is no Accepted State"}),t&&(t.IssuedState&&t.IssuedState.escrow.name==t.currentNode.name?n=Object(a.jsx)(a.Fragment,{children:"You are the escrow party and not a signatory to this state. Your vault only contains states of which you are a signatory"}):t.AcceptedState&&(n=Object(a.jsx)(ce.a,{src:t.AcceptedState,collapsed:!0}))),Object(a.jsx)("div",{children:n});case 3:return Object(a.jsxs)("div",{children:[t&&t.SettledState&&Object(a.jsx)(ce.a,{src:t.SettledState,collapsed:!0}),t&&!t.SettledState&&"This transaction is not in your scope"]});default:return"Unknown step"}}var ve=function(e){var t=e.transaction,n=(Object(d.a)(e,["transaction"]),o.a.useState([])),c=Object(i.a)(n,2),r=c[0],s=c[1];o.a.useEffect((function(){X(t,(function(e){console.log(e),s(e)}))}),[]);var l=me(),u=o.a.useState(0),j=Object(i.a)(u,2),b=j[0],h=j[1],p=["Issued State","Challenge State","Accepted State","Settled State"],f=function(){h((function(e){return e+1}))},O=function(){h((function(e){return e-1}))};return Object(a.jsxs)("div",{className:l.root,style:{textAlign:"left"},children:[Object(a.jsx)(be.a,{activeStep:b,orientation:"vertical",children:p.map((function(e,t){return Object(a.jsxs)(he.a,{children:[Object(a.jsx)(pe.a,{children:e}),Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(E.a,{children:ge(t,r)}),Object(a.jsx)("div",{className:l.actionsContainer,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Oe.a,{disabled:0===b,onClick:O,className:l.button,children:"Back"}),Object(a.jsx)(Oe.a,{variant:"contained",color:"primary",onClick:f,className:l.button,children:b===p.length-1?"Finish":"Next"})]})})]})]},e)}))}),b===p.length&&Object(a.jsxs)(xe.a,{square:!0,elevation:0,className:l.resetContainer,children:[Object(a.jsx)(E.a,{children:"All steps completed - you're finished"}),Object(a.jsx)(Oe.a,{onClick:function(){h(0)},className:l.button,children:"Reset"})]})]})},ye=(n(255),n(265),n(68));Object(j.a)({avatar:{backgroundColor:ye.a[100],color:ye.a[600]}});function Se(e){var t=e.children,n=e.value,c=e.index,o=Object(d.a)(e,["children","value","index"]);return Object(a.jsx)(E.a,Object(l.a)(Object(l.a)({component:"div",role:"tabpanel",hidden:n!==c,id:"action-tabpanel-".concat(c),"aria-labelledby":"action-tab-".concat(c)},o),{},{children:n===c&&Object(a.jsx)(T.a,{p:3,children:t})}))}var Ce=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500,position:"relative",minHeight:200},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},fabGreen:{color:e.palette.common.white,backgroundColor:k.a[500],"&:hover":{backgroundColor:k.a[600]}}}}));function Ne(e){return{id:"action-tab-".concat(e),"aria-controls":"action-tabpanel-".concat(e)}}var we=function(){var e=o.a.useState(0),t=Object(i.a)(e,2),n=t[0],c=t[1],r=o.a.useState(!1),s=Object(i.a)(r,2),d=s[0],j=s[1],p=o.a.useState({}),O=Object(i.a)(p,2),m=O[0],v=O[1],k=o.a.useState({}),T=Object(i.a)(k,2),E=T[0],I=T[1],F=o.a.useState({}),P=Object(i.a)(F,2),G=P[0],D=P[1],R=o.a.useState(!1),Y=Object(i.a)(R,2),B=(Y[0],Y[1],function(){c(3)});o.a.useEffect((function(){console.log("value",n),2!=n&&(I(null),D(null))}),[n]);var W=Ce(),J=Object(b.a)(),L={enter:J.transitions.duration.enteringScreen,exit:J.transitions.duration.leavingScreen},q=[{color:"primary",className:W.fab,icon:Object(a.jsx)(f.a,{}),label:"Add",action:B,color2:"secondary",display2:"none"},{color:"primary",className:W.fab,icon:Object(a.jsx)(f.a,{}),label:"Add",action:B,color2:"secondary",display2:"none"},{color:"inherit",className:Object(u.a)(W.fab,W.fabGreen),icon:Object(a.jsx)(A.a,{}),label:"Expand",display:"none",display2:"none"},{color:"primary",className:Object(u.a)(W.fab,W.fabGreen),disabled:!d,icon:Object(a.jsx)(x.a,{}),icon2:Object(a.jsx)(g.a,{}),label:"Edit",action:function(){Q(m,(function(e){console.log("challenge issued",e),c(0)}))},className2:Object(u.a)(W.fab),color2:"secondary",action2:function(){c(0)}}];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(C.a,{position:"static",color:"default",children:Object(a.jsxs)(N.a,{value:n,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",children:[Object(a.jsx)(w.a,Object(l.a)({label:"Transactions"},Ne(0))),Object(a.jsx)(w.a,Object(l.a)({label:"Nodes"},Ne(1))),Object(a.jsx)(w.a,Object(l.a)({label:E?E.name:G?G.challengerChoice:""},Ne(2)))]})}),Object(a.jsxs)(y.a,{axis:"rtl"===J.direction?"x-reverse":"x",index:n,onChangeIndex:function(e){c(e)},children:[Object(a.jsx)(Se,{value:n,index:0,dir:J.direction,children:Object(a.jsx)($,{onTransactionSelected:function(e){D(e),c(2)}})}),Object(a.jsx)(Se,{value:n,index:1,dir:J.direction,children:Object(a.jsx)(ne,{onNodeSelected:function(e){I(e),c(2)}})}),Object(a.jsxs)(Se,{value:n,index:2,dir:J.direction,children:[E&&Object(a.jsx)(oe,{node:E}),G&&Object(a.jsx)(ve,{transaction:G})]}),Object(a.jsx)(Se,{value:n,index:3,dir:J.direction,children:Object(a.jsx)(je,{onChange:function(e){j(e.ready),v(e)}})})]}),q.map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{in:n===t,timeout:L,style:{transitionDelay:"".concat(n===t?L.exit:0,"ms")},unmountOnExit:!0,children:Object(a.jsx)(h.a,{"aria-label":e.label,className:e.className,color:e.color,style:{display:e.display},disabled:e.disabled,onClick:e.action,children:e.icon})},e.color),Object(a.jsx)(S.a,{in:n===t,timeout:L,style:{transitionDelay:"".concat(n===t?L.exit:0,"ms")},unmountOnExit:!0,children:Object(a.jsx)(h.a,{"aria-label":e.label,className:e.className2,color:e.color2,style:{display:e.display2,right:"80px"},onClick:e.action2,children:e.icon2})},e.color)]})}))]})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,271)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(we,{})}),document.getElementById("root")),ke()}},[[193,1,2]]]);
//# sourceMappingURL=main.e2693dcc.chunk.js.map